<MyLabel@Label>
    font_size: 24
    background_color: (.06, .06, .06, 1)
    size_hint: 1, .5
    color: (230/255,230/255,230/255,1)
    canvas.before:
        Color:
            rgba: self.background_color
        Rectangle:
            size: self.size
            pos: self.pos

<MyButton@Button>
    # size_hint: (1, .5)
    font_size: 30
    color: (230/255,230/255,230/255,1)
    background_color: (97/255,131/255,88/255,1)

<MySpinner@Spinner>
    background_color: (.20, .20, .20, 1)
    font_size: 24
    size_hint: 1, 1

<DataSpinner@Spinner>
    background_color: (.20, .20, .20, 1)
    font_size: 24
    size_hint: .33, 1

<MainScreen>
    name: "main"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        padding: 10
        spacing: 10

        MyLabel:
            id: mission_label
            text: root.mission_type
            font_size: 32
        MyLabel:
            text: root.today_data
        MyLabel:
            id: mission_day_label
            text: root.mission_day
        BoxLayout:
            orientation: "vertical"
            size_hint: 1, 4
            spacing: 10
            BoxLayout:
                id: chart
                size_hint: 1, 3
        BoxLayout:
            size_hint: 1, 1.5
            padding: 0
            spacing: 0
            orientation: "vertical"
            MyLabel:
                size_hint: 1, 1
                text: "dni poza obszarem misji:"
            BoxLayout:
                MyButton:
                    font_size: 30
                    text: "-"
                    on_press: root.mission_out_days(self.text, out_mission_label.text)
                MyLabel:
                    id: out_mission_label
                    size_hint: 1, 1
                    text: root.out_mission_days
                MyButton:
                    font_size: 30
                    text: "+"                   
                    on_press: root.mission_out_days(self.text, out_mission_label.text)                    
        BoxLayout:
            orientation: "vertical"
            MyLabel:
                text: "zarobiłeś:"
            MyLabel:
                id : earning_label
                text: root.mission_earning
                font_size: 32
                color: (97/255,131/255,88/255,1)
        BoxLayout:
            MyButton:
                text: "<"
            MyButton:
                text: ">"
                on_press:
                    root.manager.current = 'settings'
                    root.manager.transition.direction = 'left'


<SettingScreen>
    name: "settings"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        padding: 10
        spacing: 10

        MySpinner:
            id: mission_spinner
            text: "wybierz misję"
            values: app.contingent_list
            on_text: root.mission_clicked(mission_spinner.text)
        MyLabel:
            text: "data rozpoczęcia:"
        BoxLayout:
            size: root.width, root.height
            padding: 0
            spacing: 0
            DataSpinner:
                id: s_y_spinner
                text: "R"
                values: app.years_list
                on_text: root.start_year_clicked(s_y_spinner.text)
            DataSpinner:
                id: s_m_spinner
                text: "M"
                values: app.months_list
                on_text: root.start_month_clicked(s_m_spinner.text)
            DataSpinner:
                id: s_d_spinner
                text: "D"
                values: app.days_list
                on_text: root.start_day_clicked(s_d_spinner.text)
        MyLabel:
            text: "data zakończenia:"
        BoxLayout:
            size: root.width, root.height
            padding: 0
            spacing: 0
            DataSpinner:
                id: e_y_spinner
                text: "R"
                values: app.years_list
                on_text: root.end_year_clicked(e_y_spinner.text)
            DataSpinner:
                id: e_m_spinner
                text: "M"
                values: app.months_list
                on_text: root.end_month_clicked(e_m_spinner.text)
            DataSpinner:
                id: e_d_spinner
                text: "D"
                values: app.days_list
                on_text: root.end_day_clicked(e_d_spinner.text)
        MySpinner:
            id: range_spinner
            text: "wybierz stopień etatowy"
            values: app.range_list
            on_text: root.range_clicked(range_spinner.text)
        GridLayout:
            cols:2
            MyLabel:
                text:"lekarz ze spec."
            CheckBox:
                group: "doctors"
                id: check_spec
                on_active: root.checkbox_clicked(self, self.active)
            MyLabel:
                text:"lekarz"
            CheckBox:
                group: "doctors"
                id: check_doc
                on_active: root.checkbox_clicked(self, self.active)
        
        MyButton:
            text: "zapisz"
            font_size: 24
            on_press:
                root.safe_clicked(mission_spinner.text, range_spinner.text, check_spec.active, check_doc.active, s_y_spinner.text, s_m_spinner.text, s_d_spinner.text, e_y_spinner.text, e_m_spinner.text, e_d_spinner.text)
        
        Label:
            id: message_label
            color:"red"
            text: root.message_text
        BoxLayout:
            MyButton:
                text: "<"
                on_press:
                    root.manager.current = 'main'
                    root.manager.transition.direction = 'right'
            MyButton:
                text: ">"

